@attribute [Microsoft.AspNetCore.Components.RouteAttribute(Constants.FRONTEND_URL.BOARD_MANAGER)]

@using Survey.Client.Repository.Interfaces
@using Microsoft.AspNetCore.Authorization
@using Survey.Shared.Model
@using System.Linq
@using Survey.Client.Pages.App
@inject NavigationManager NavigationManager
@using Survey.Client.Pages.App.Util

@attribute [Authorize]
@inject DialogService dialogService



    <RadzenButton Text=@($"Show OrderID: 14 details") Click="@(
            args => 
{
                dialogService.Open<DialogEditBoard>
                        ($"Order 14",
                        new Dictionary<string, object>(){
                            {"boardModel", boardModel},
                            {"BoardPage", this}
                        },
                        new DialogOptions()
                            {
                            Width = "700px", 
                            Height = "530px", 
                            Left = "calc(50% - 350px)", 
                            Top = "calc(50% - 265px)" 
                            }
                        );
                
 }                       )" />

@foreach (var board in BoardList ?? Enumerable.Empty<BoardModel>())
{
    <div class="card" style="width: 18rem;">
        <AuthorizeView Roles="Admin, BoardAdmin">
            <Authorized>
                <div class="float-right">
                    <button @onclick="@(()=>Delete(board))" class="close" aria-label="Close">
                        <span aria-hidden="true">
                            &times;
                        </span>
                    </button>
                </div>
                <h6>@board.ExpDate</h6>
                <h6>@board.Name</h6>

                <a @onclick="@(() => {
                       NavigationManager.NavigateTo(Constants.FRONTEND_URL.BOARD_MANAGER +"/"+ board.Id);
                   })" class="btn btn-info" role="button">View board</a>
                <a @onclick="@(() => {
                       NavigationManager.NavigateTo(Constants.FRONTEND_URL.SUMMARY +"/"+ board.Id);
                   })" class="btn btn-info" role="button">Summary</a>
            </Authorized>
        </AuthorizeView>
    </div>
}