@attribute [Microsoft.AspNetCore.Components.RouteAttribute(Constants.FRONTEND_URL.BOARD_MANAGER)]

@using Survey.Client.Repository.Interfaces
@using Microsoft.AspNetCore.Authorization
@using Survey.Shared.Model
@using System.Linq
@inject NavigationManager NavigationManager

@attribute [Authorize]
<AuthorizeView>
    <Authorized>
        <h3>BoardPage</h3>
        <button class="btn btn-primary" @onclick="MakeNewSurveyBoard">Make a new Survey board</button>
    </Authorized>
</AuthorizeView>
@foreach (var board in BoardList ?? Enumerable.Empty<BoardModel>())
{
        <div class="card" style="width: 18rem;">
            <AuthorizeView Roles="Admin, BoardAdmin">
                <Authorized>
                    <div class="float-right">
                        <button @onclick="@(()=>Delete(board))" class="close" aria-label="Close">
                            <span aria-hidden="true">
                                &times;
                            </span>
                        </button>
                    </div>
                    <a @onclick="@(() => {
                       NavigationManager.NavigateTo(Constants.FRONTEND_URL.BOARD_MANAGER +"/"+ board.Id);
                   })" class="btn btn-info" role="button">View board</a>
                    <a @onclick="@(() => {
                       NavigationManager.NavigateTo(Constants.FRONTEND_URL.SUMMARY +"/"+ board.Id);
                   })" class="btn btn-info" role="button">Summary</a>
                </Authorized>
            </AuthorizeView>
        </div>
}


@code {


}
